# 7章
## K
- OAuth2の用語自体は知っている。意味や仕組みは理解できていない
- APIに認証と認可の機能が必要なことも知っている
## W
- APIにおける、認証と認可のプロセス
- 認証と認可を実装する上で、どんな注意点があるか
- APIゲートウェイ、認証と認可の関係は？
## L
- 認証と認可の違いを学んだ
 - 認証は「許可された人か」、認可は「許可された操作か」
- ログインしたユーザーにトークンを割り振り認証する方法を学んだ
  - シンプルだが、認証のたびにトークンを検索しなければならず、計算コストがかかる
- システム間通信では、256ビットのAPIキーで認証・特定する方法がある
- サードパーティのサービス経由でデータにアクセスする時、エンドユーザを認証できない。ベーシック認証を付与すると、経由するサードパーティのサービスにパスワードが伝わってしまう
  - OAuth2の出番
- OAuth2は、サードパーティサービスが、認証情報を知らずに保護されたデータにアクセスできる方法。クライアント(サードパーティサービス)からアクセス要求があると、認証サーバがリソースオーナー(エンドユーザー)にリソースのアクセス認可を確認する。
  - OAuth2スコープを使うと、認可によってAPIにアクセスできる範囲を限定できる
- JWTを使うと、トークンを電子署名で検証するため、いちいちデータベースを検索せずに済む。OAuth2のトークンとして使われる
- JWTトークンの有効期限は短めが望ましい。リフレッシュトークンを使うと、いちいちログアウトされず、ユーザー体験が向上する
- OIDCを使うとユーザーの識別だけではなく、名前やemail、電話番号などをクライアント(サードパーティサービス)が取得できる
- SAMLはSSOなどに使用される
